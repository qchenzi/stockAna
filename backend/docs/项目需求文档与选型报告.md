项目需求文档与技术选型报告

一、项目需求文档

1. 项目背景

随着股票市场的快速发展，投资者面临信息过载的问题。为了帮助用户更高效地筛选优质股票、跟踪市场动态并生成投资建议，我们计划开发一款基于 yfinance 数据接口 的股票推荐系统。本系统将以量化分析为核心，结合基本面和技术面的多维度筛选条件，为用户提供数据驱动的投资决策支持。

2. 项目目标

自动化数据采集：每日定时从市场中获取目标股票的最新数据。

多因子筛选逻辑：结合基本面与技术面指标进行动态评分，筛选高潜力股票。

灵活的策略自定义：支持用户根据投资风格与偏好调整筛选条件。

可视化与用户交互：通过图表展示数据和推荐结果。

实时通知功能：通过邮件、微信或钉钉推送推荐股票信息。

3. 功能需求

3.1 数据采集模块

功能描述：

定时拉取目标股票的基本面和历史价格数据。

支持批量获取多只股票的数据。

关键数据点：

基本面指标：PE、PB、ROE、营收增长率等。

技术面指标：价格、成交量、均线数据等。

3.2 策略分析模块

功能描述：

根据基本面和技术面指标进行评分。

支持多种筛选策略（如成长型、价值型、趋势型）。

输出：

每只股票的评分。

推荐理由（如低估值、高成长、技术突破）。

3.3 策略自定义模块

功能描述：

用户可调整筛选条件，如 PE、PB 阈值。

支持自定义权重分配（如 PE 0.3、PB 0.2、ROE 0.5）。

界面需求：

提供 JSON 文件或图形界面配置方式。

3.4 推荐引擎模块

功能描述：

根据筛选条件生成每日推荐列表。

提供股票评分排序及买入/卖出建议。

3.5 可视化模块

功能描述：

展示股票历史数据（如价格、成交量趋势）。

推荐列表的分数分布图。

3.6 通知模块

功能描述：

每日推送推荐列表。

支持通过邮件、微信或钉钉通知用户。

4. 非功能性需求

高可用性：确保系统每日按时运行。

性能需求：能够处理至少 500 只股票的数据。

扩展性：支持未来接入更多数据源（如 Tushare、东方财富）。

二、技术选型报告

1. 数据采集

选型：yfinance

优点：

免费开放的 API，支持全球范围内的股票数据。

提供基本面和历史行情数据，满足多维度分析需求。

易于集成，适合快速开发。

缺点：

部分数据可能不够实时。

数据完整性有限（如少部分基本面指标缺失）。

备选：Tushare

优点：

专注于中国市场，数据覆盖更全。

提供 A 股特定数据（如财务报表、资金流向）。

缺点：

部分功能需要付费。

全球市场数据支持有限。

2. 数据存储

选型：SQLite（初期）

优点：

轻量级，无需独立服务器。

适合小型项目，开发周期短。

缺点：

并发支持有限，不适合高频访问。

升级方案：MySQL/PostgreSQL（扩展期）

优点：

支持高并发和复杂查询。

具备强大的数据完整性保障。

缺点：

部署和维护复杂度较高。

3. 数据分析与建模

选型：Pandas + NumPy

优点：

数据清洗、处理和分析的标准工具。

高效计算多维度指标。

缺点：

对大规模数据（如上亿行）性能有限。

扩展方案：PySpark（大数据场景）

优点：

适合分布式计算，处理海量数据。

扩展性强，支持集群运行。

缺点：

开发复杂度较高，不适合小型项目。

4. 后端框架

选型：FastAPI

优点：

高性能，基于 ASGI 标准。

支持快速开发和自动生成 API 文档。

缺点：

学习曲线稍高于 Flask。

备选：Flask

优点：

轻量级框架，易于学习和实现。

社区生态完善。

缺点：

性能相较 FastAPI 略低。

5. 可视化

选型：Plotly + Dash

优点：

支持交互式图表，用户体验好。

轻量化且适合构建快速原型。

缺点：

定制化能力有限。

备选：Matplotlib + Streamlit

优点：

Matplotlib 适合高精度图表，Streamlit 快速搭建应用。

更适合开发者用的内部工具。

缺点：

交互能力较弱。

6. 通知推送

选型：钉钉机器人 + SMTP 邮件

优点：

钉钉机器人适合即时通知，易于集成。

SMTP 支持大多数邮件服务。

缺点：

依赖用户的第三方账户配置。

备选：微信企业号

优点：

本地化更好，适合国内用户。

支持更多用户交互功能。

缺点：

接入流程相对复杂。